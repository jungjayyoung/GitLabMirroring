package boj;

import java.io.*;
import java.util.*;

public class p3055 {

	static int r,c;
	static int dx[] = {-1,0,1,0};
	static int dy[] = {0,1,0,-1};
	static char[][] board;
	static boolean[][]visited;
	static Deque<int []> dq = new ArrayDeque<int[]>();
	static boolean check = false;
	
	static void bfs() {
		
		
		while(!dq.isEmpty()) {
			
			int tmp[] = dq.poll();
			
			int x = tmp[0]; // 고슴도치 x좌표
			int y = tmp[1]; // 고슴도치 y좌표
			int time = tmp[2]; // 고슴도치 이동시간
			
			
			for(int i = 0; i <4; i++) {
				int nextx = x + dx[i];
				int nexty = y + dy[i];
				
				if(!visited[nexty][nextx] && )
				
			}
			
		}
		
		
		
		
	}
	
	public static void main(String[] args) throws IOException{
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st;
		
		st = new StringTokenizer(br.readLine()," ");
		r = Integer.parseInt(st.nextToken());
		c = Integer.parseInt(st.nextToken());
		
		board = new char[r+1][c+1];
		visited = new boolean[r+1][c+1];
		
		// 입력을 받으면서 물 위치와 고슴도치의 위치를 덱에 집어넣는다.
		for(int y = 0; y < r; y++) {
			String s = br.readLine();
			for(int x = 0; x < c; x++) {
				board[y][x] = s.charAt(x);
				// 고슴도치의 x,y 좌표를 q에 집어넣는다.
				if(board[y][x] == 'S') {
					dq.offerLast(new int[] {x,y,0});
					visited[y][x] = true;
				}else if(board[y][x] == '*') {
					dq.offerFirst(new int[] {x,y,0});
					visited[y][x] = true;
				}
			}
		}
		
		bfs();
		
		
		
		if(check) {
			
		}else {
			System.out.println("KAKTUS");
		}
		
		
		

	}

}
