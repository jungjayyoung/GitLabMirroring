package boj;

import java.io.*;
import java.util.*;

public class p1759 {
	
	static int l,c;
	static char[] arr;
	static int[] visited;
	static List<String> ss = new ArrayList<String>();
	
	static boolean check(String s) {
		
		int 
		for(int i = 0; i < s.length();i++) {
			
			
		}
		
	}
	
	static void bt(int cnt,String s) {
		
		if(cnt == l) {
			
			System.out.println(s);
			ss.add(s);
			
			return;
		}
		
		
		for(int i = 0; i < arr.length;i++) {
			
			if(visited[i] == 0) {
				visited[i] = 1;
				bt(cnt + 1, s + arr[i]);
				visited[i] = 0;
			}
			
			
			
		}
		
	}
	
	
	static boolean next_permutation(String a) {
		
		
	}

	public static void main(String[] args) throws IOException{
		BufferedReader br =  new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st;
		
		st = new StringTokenizer(br.readLine()," ");
		
		l = Integer.parseInt(st.nextToken());
		c = Integer.parseInt(st.nextToken());
		
		arr = new char[c];
		visited = new int[c];
		
		st = new StringTokenizer(br.readLine()," ");
		for(int i = 0; i < c; i++) {
			arr[i] = st.nextToken().charAt(0);
		}
		
		bt(0,0,"");
		
		Collections.sort(ss);
		
		for(String a : ss) {
			System.out.println(a);
		}

	}

}
