package swea_ps;
import java.util.*;
import java.io.*;

public class p1233 {
	
	class Node{
		
		String data;
		int left;
		int right;
		
		Node(String data) {
			
			this.data = data;
			left = 0;
			right = 0;
		}
	
	}
	
	
	
	
	public static void main(String[] args) throws IOException{

		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st; 
		
		
		
		
		for(int t = 1; t <= 10; t++) {
			int n = Integer.parseInt(br.readLine());
			boolean check = false;
			
			Node [] nodes = new Node[n+1];
			
			
			st = new StringTokenizer(br.readLine()," ");
			for(int i = 0; i <n; i++) {
				int node_num = Integer.parseInt(st.nextToken());
				
				char data = st.nextToken().charAt(0);
				
				nodes[node_num].data = data;
				
				if(st.hasMoreTokens()) {
					int left_child = Integer.parseInt(st.nextToken());
					nodes[node_num].left = left_child;
					
				}
				
				if(st.hasMoreTokens()) {
					int right_child =Integer.parseInt(st.nextToken());
					nodes[node_num].right = right_child;
						
				}
				
				if(data == '*' || data == '/' || data == '+' || data == '-') {
					
					if(nodes[node_num].left == 0 && nodes[node_num].right == 0) {
						check = true;
					}
					
				}
				
				
			}
			
			for(int i = 1; i<=n; i++) {
				
				if(nodes[i].data >= '')
				
			}
			
			if(check) {
				System.out.println("#" + t + " " + "0");
			}else {
				System.out.println("#" + t + " " + "1");
			}
			
			
			
			
			
		}
		
		
		
	}

}
