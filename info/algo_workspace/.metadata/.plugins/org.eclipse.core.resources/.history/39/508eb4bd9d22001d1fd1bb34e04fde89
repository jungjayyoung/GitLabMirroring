import java.io.*;
import java.util.*;

public class KruskalMain {
	static int N;
	static int[][] edges;
	static int[] p;

	public static void main(String[] args) throws IOException{
		Scanner sc = new Scanner(System.in);
		
		N = sc.nextInt();
		

		int E = sc.nextInt();
		edges = new int[E][3];
		for(int e=0; e<E;e++) {
			int from = sc.nextInt();
			int to = sc.nextInt();
			int weight = sc.nextInt();
			edges[e] = new int[] {from,to,weight};
		}
		Arrays.sort(edges,(o1,o2) -> Integer.compare(o1[2], o2[2]));
		
		sc.close();

	}

}
